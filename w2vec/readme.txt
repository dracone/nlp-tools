
Word2vec takes a text corpus as input and produces the word vectors as output. 
Our purpose is to use this vector to calculate similarity between words in the input corpus and visualize it in a matrix.

For a better performance we suggest that the input file contains only words in lower case and without punctuation. 
Program nlp-tools/w2vec_visualization/joinCorpora/joinCorpus.py takes a directory as input and creates as output a file with the correct format to be used as Word2vec input containing the contents of all the texts in the input directory.

a. Generating the words vector:
1. Go to nlp-tools/w2vec_visualization/word2vec and run:
time ./word2vec -train INPUT.txt -save-vocab ./Vocab.txt -output ./Vector.bin -cbow 1 -size 200 -window 8 -negative 25 -hs 0 -sample 1e-4 -threads 20 -binary 1 -iter 15

Being:
INPUT.txt : file containing the input corpus (preferably generated with joinCorpus.py)
Vocab.txt: file containing the words from the input corpus that will serve as input to matrix generation and labels file to the matrix visualization.
Vector.bin : file containing the words vector.

b. Generating the similarity matrix:
1. Generate a vocabulary input file from Vocab.txt with the following format:
word1
Word2
EXIT 

A single column with the vocabulary words. Word EXIT capitalized at the end of the list followed by an <enter>.

Example:
time ./word2vec -train /home/ccx/corpora/txt/enSmall/ENsmall.txt -save-vocab ./enSmallVocab.txt -output ./enSmallVector.bin -cbow 1 -size 200 -window 8 -negative 25 -hs 0 -sample 1e-4 -threads 20 -binary 1 -iter 15

2. At nlp-tools/w2vec_visualization/word2vec run:
./distanceCLA Vector.bin SimilarityMatrix.txt InputToGenerateMatrixVocab.txt

Being:
Vector.bin : file containing the words vector (generated by word2vec)
SimilarityMatrix.txt: output file containing the similarity matrix
InputToGenerateMatrixVocab.txt: vocabulary input file generated in the previous step.

Example:
./distanceCLA enSmallVector.bin enSmallMatrix.txt enSmallVocab.txt


c. Visualizing the similarity matrix:
1. Generate a label input file from InputToGenerateMatrixVocab.txt with the following format:
word1
Word2

A single column with the vocabulary words. Ends with the last word, no <enter>.

2. Go to nlp-tools/w2vec_visualization/T-SNE-Java-master and run:
java -jar TSneDemo.jar SimilarityMatrix.txt Label.txt 500

Being:
SimilarityMatrix.txt: distanceCLA output file containing the similarity matrix, generated in b.2
Label.txt: label input file generated in the previous step.
500: number of lines/rown in the matrix to be visualized

Example:
java -jar TSneDemo.jar /home/ccx/work/word2vec/enSmallMatrix.txt /home/ccx/work/word2vec/enSmallLabel.txt 500
---------------

